<form method="post" asp-action="Charge" name="razorpayForm">
	<input id="razorpay_payment_id" type="hidden" name="razorpay_payment_id" />
	<input id="razorpay_order_id" type="hidden" name="razorpay_order_id" />
	<input id="razorpay_signature" type="hidden" name="razorpay_signature" />
</form>
<body>
	<button id="rzp-button1">Checkout With Razorpay</button>
	<script src="https://checkout.razorpay.com/v1/checkout.js"></script>
	<script>
		var orderid="@ViewBag.orderId"
		var options={
			"name":"@ViewBag.username",
			"description":"Payment using razorpay",
			"order_id":orderid,
			"image":"https://www.code2night.com/Content/code2night-C.png",
			"prefill":{
				"name":"@ViewBag.username",
				"email":"@ViewBag.email",
				"contact":"+91"+"@ViewBag.contactNo",
			},
			"notes":{
				"address":"Test payment"
			},
			"theme":{
				"color":"#3399cc"
			}
		}
		options.theme.image_padding=false;
		options.handler=function(response){
			document.getElementById('razorpay_payment_id').value=response.razorpay_payment_id;
			document.getElementById('razorpay_order_id').value=orderid;
			document.getElementById('razorpay_signature').value=response.razorpay_signature;
			document.razorpayForm.submit();
		};
		options.model={
			ondismiss:function(){
				console.log("this code runs when popup is closed");
			},
			escape:true,
			backdropclose:false
		};
		var rzp=new Razorpay(options);
		document.getElementById('rzp-button1').onclick=function(e){
			rzp.open();
			e.preventDefault();
		}
	</script>
</body>